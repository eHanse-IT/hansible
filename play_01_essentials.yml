---
# Dieses Playbook dient zur initialen, sicheren Konfiguration eines Servers.
#
#
- name: Essentials Sysctl.conf, Firewall, Git, Python, Apt-Update
  hosts: all
  vars_files:
    - vars
    - vault
  pre_tasks:
    - apt:
       update_cache: yes
       upgrade: full
       autoclean: yes
       autoremove: yes
    - setup:
      tags: python
    - locale_gen:
       name: "{{ item }}"
       state: present
      loop:
        - de_DE.UTF-8
        - en_US.UTF-8
  roles:
   - hostname
   - timezone
   - sysctl
   - git
   - firewall
   - unattended-upgrades