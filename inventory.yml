---
# This file manages our servers and their variables.
# For each server, we declare the server-dependent variables that are required for the roles.
# 1. oatrade group:
#    - oaprod
#    - oatest
#    - godalko
# 3. eHanse group:
#    - ehprod
#    - ehtest
#    - jupyter


oatrade:
  hosts:
    twprod:
      pipelining: False              # TODO kann auf TRUE gesetzt werden wenn Ubuntu 16+04 oder neuer installiert
      ansible_host: "{{ _vault_twprod_ip }}"
      ansible_port: "{{ host_port }}"
      fqdn: "oaprod.oa-trade.com"
      hostname: "oaprod"
      timezone: "Asia/Hong_Kong"
      domain: "oa.oa-trade.com"
      domainAliases: "erp.oa-trade.com"
      certbot_admin_email: info@ehanse.de
      certbot_certs:
       - domains:
          # - wiki.oa-trade.com
          - oa.oa-trade.com
      certbot_create_standalone_stop_services:
        - apache2
      userlist:
      - "{{ ehanse_users }}"
      - "{{ rfhk_users }}"
      odoo_version: 8.0
      odoo_config_addons_path:
      - "/home/{{ odoo_user }}/odoo/server/addons"
      - "/home/{{ odoo_user }}/odoo/custom/OAW-custom"
      - "/home/{{ odoo_user }}/odoo/custom/awo-custom"
      odoo_config_smtp_password: "{{ _vault_oatrade_odoo_config_smtp_password }}"
      odoo_config_smtp_port: 587
      odoo_config_smtp_server: s1.hostedmail.cc
      odoo_config_smtp_ssl: True
      odoo_config_smtp_user: erp@oawatches.net


    chrono123:
      ansible_host: "{{ _vault_chrono123_ip }}"
      ansible_port: "{{ host_port }}"
      fqdn: "godalko.com"
      hostname: "godalko.com"
      timezone: "Asia/Hong_Kong"
      domain: "go.godalko.com"   #f端r Odoo VHost
      domainAliases: "godalko.com www.godalko.com"
      certbot_admin_email: info@godalko.com
      certbot_certs:
       - domains:
          - go.godalko.com
          - godalko.com
          - www.godalko.com
      certbot_create_standalone_stop_services:
        - apache2
      userlist:
      - "{{ ehanse_users }}"
      - "{{ rfhk_users }}"
      odoo_version: 8.0
      odoo_config_addons_path:
      - "/home/{{ odoo_user }}/odoo/server/addons"
      - "/home/{{ odoo_user }}/odoo/custom/OAW-custom"
      - "/home/{{ odoo_user }}/odoo/custom/awo-custom"
      odoo_config_smtp_password: somepassword                       #TODO
      odoo_config_smtp_port: 587
      odoo_config_smtp_server: somesmtpserver.com                   #TODO
      odoo_config_smtp_ssl: True                                    #TODO
      odoo_config_smtp_user: erp@oawatches.net                      #TODO

    twtest:
      ansible_host: "{{ _vault_twtest_ip }}"
      ansible_port: "{{ host_port }}"
      fqdn: "test.oa-trade.com"
      hostname: "oatest"
      timezone: "Asia/Hong_Kong"
      domain: "test.oa-trade.com"
      certbot_admin_email: info@godalko.com
      certbot_certs:
       - domains:
          - oatest.oa-trade.com
      certbot_create_standalone_stop_services:
        - apache2
      userlist:
      - "{{ ehanse_users }}"
      - "{{ rfhk_users }}"
      odoo_version: 8.0
      odoo_config_addons_path:
      - "/home/{{ odoo_user }}/odoo/server/addons"
      - "/home/{{ odoo_user }}/odoo/custom/OAW-custom"
      - "/home/{{ odoo_user }}/odoo/custom/awo-custom"
      odoo_config_smtp_password: somepassword                       #TODO
      odoo_config_smtp_port: 587
      odoo_config_smtp_server: somesmtpserver.com                   #TODO
      odoo_config_smtp_ssl: True                                    #TODO
      odoo_config_smtp_user: erp@oawatches.net                      #TODO


ehanse:
  hosts:
    ehprod:
      ansible_host: "{{ _vault_ehprod_ip }}"
      ansible_port: "{{ host_port }}"
      fqdn: "www.ehanse.de"
      hostname: "ehanse.de"
      timezone: "Europe/Berlin"
      domain: "erp.ehanse.de"  #f端r Odoo
      domainAliases: "www.ehanse.de"
      certbot_admin_email: info@ehanse.de
      certbot_certs:
       - domains:
          - wiki.ehanse.de
          - seafile.ehanse.de
          - www.ehanse.de
          - erp.ehanse.de
      certbot_create_standalone_stop_services:
        - apache2
      userlist:
      - "{{ ehanse_users }}"
      odoo_version: 8.0
      odoo_config_addons_path:
      - "/home/{{ odoo_user }}/odoo/server/addons"
      - "/home/{{ odoo_user }}/odoo/custom/OAW-custom"
      - "/home/{{ odoo_user }}/odoo/custom/awo-custom"
      odoo_config_smtp_password: somepassword                       #TODO
      odoo_config_smtp_port: 587
      odoo_config_smtp_server: somesmtpserver.com                   #TODO
      odoo_config_smtp_ssl: True                                    #TODO
      odoo_config_smtp_user: erp@oawatches.net                      #TODO


    ehtest:
      pipelining: true
      ansible_host: "{{ _vault_ehtest_ip_ }}"
      ansible_port: "{{ host_port }}"
      timezone: "Europe/Berlin"
      domain: "erptest.ehanse.de" #f端r Odoo
      domainAliases: "wwwtest.ehanse.de"
      fqdn: "erptest.ehanse.de"
      hostname: "erptest.ehanse.de"
      certbot_admin_email: info@ehanse.de
      certbot_certs:
       - domains:
          - erptest.ehanse.de
          - wwwtest.ehanse.de
      certbot_create_standalone_stop_services:
        - apache2
      userlist:
      - "{{ ehanse_users }}"
      odoo_version: 8.0
      odoo_config_addons_path:
      - "/home/{{ odoo_user }}/odoo/server/addons"
      - "/home/{{ odoo_user }}/odoo/custom/OAW-custom"
      - "/home/{{ odoo_user }}/odoo/custom/awo-custom"
      odoo_config_smtp_password: somepassword                       #TODO
      odoo_config_smtp_port: 587
      odoo_config_smtp_server: somesmtpserver.com                   #TODO
      odoo_config_smtp_ssl: True                                    #TODO
      odoo_config_smtp_user: erp@oawatches.net                      #TODO

      #fail2ban f端r die Serverdienste einrichen. Nur die Dienste aktivieren, die auch installiert sind!
      fail2ban_services:
      - name: sshd
        port: 7365
      - name: apache-auth
        port: http, https
      - name: apache-overflows
        port: http, https
      - name: apache-badbots
        port: http, https
      #- name: dovecot
      #  port: 143,993
      #- name: nagios
      #  port: 5666
      #- name: postfix
      #  port: 587
      #
      # weitere services von fail2ban:
      # mysqld-auth
      # nagios
      # postfix
      # proftpd
      # sieve
      # vsftpd
      # xinetd-fail    <--- this is the NAGIOS server





    any_localhost:
      ansible_host: 127.0.0.1
      connection: local
      












